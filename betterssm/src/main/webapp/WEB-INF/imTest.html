<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>title</title>
<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
<script src="path/to/Web_SDK_Base_v.js"></script>
<script src="path/to/Web_SDK_NIM_v.js"></script>
<!-- <script src="path/to/Web_SDK_Chatroom_v.js"></script> -->
<script type="text/javascript">
	/*
	 var data = {};
	 var nim = NIM.getInstance({
	 // debug: true,
	 appKey : 'appKey',
	 account : 'account',
	 token : 'token',
	 onconnect : onConnect,
	 onwillreconnect : onWillReconnect,
	 ondisconnect : onDisconnect,
	 onerror : onError
	 });
	 function onConnect() {
	 console.log('连接成功');
	 }
	 function onWillReconnect(obj) {
	 // 此时说明 SDK 已经断开连接, 请开发者在界面上提示用户连接已断开, 而且正在重新建立连接
	 console.log('即将重连');
	 console.log(obj.retryCount);
	 console.log(obj.duration);
	 }
	 function onDisconnect(error) {
	 // 此时说明 SDK 处于断开状态, 开发者此时应该根据错误码提示相应的错误信息, 并且跳转到登录页面
	 console.log('丢失连接');
	 console.log(error);
	 if (error) {
	 switch (error.code) {
	 // 账号或者密码错误, 请跳转到登录页面并提示错误
	 case 302:
	 break;
	 // 被踢, 请提示错误后跳转到登录页面
	 case 'kicked':
	 break;
	 default:
	 break;
	 }
	 }
	 }
	 function onError(error) {
	 console.log(error);
	 }
	
	 */
	/** 一下是测试代码，全部用ajax形式获取**/

	/**
	 * 注册
	 * 手机号\密码
	 * 首先获得新用户的token
	 */
	function reg() {

		$.ajax({
			type : "get",
			url : "/betterssm/IOSLogin.do?act=reg&phoneNo=13088888888&password=000000",
			dataType : "json",
			success : function(data) {

				alert(data.result.token);
			}

		});

	};
	$(document).ready(function() {
		alert("注册");
		reg();
	});
</script>
</head>
<body>

</body>
</html>